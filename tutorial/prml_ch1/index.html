<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.2.5">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Zuhui Wang">

  
  
  
    
  
  <meta name="description" content="Section 1.5.5 in Pattern Recognition and Machine Learning (PRML) In this note, I will show the derivation procedure of the equation of 1.90 step by step. Before we start, I want to claim that the version of the textbook are 2006 version. The Eq. 1.90 is list on Page 47.
From Page 46 we know, the expected loss can be written as
\[\small \mathbb{E}[L] = \iint\{y(\mathbf{x}) - t\}^2 p(\mathbf{x}, t)\mathrm{d}\mathbf{x}\mathrm{d}t \]">

  
  <link rel="alternate" hreflang="en-us" href="https://wzhings.github.io/tutorial/prml_ch1/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#4caf50">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous" title="hl-light">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous" title="hl-dark" disabled>
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Gugi:400,700|Roboto:400,400italic,700|Roboto+Mono">
  

  
  
  
  <link rel="stylesheet" href="/css/academic.min.19961e03e67ae262a9301c1825ce4e9f.css">

  

  
  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-139206551-1', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  
  

  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://wzhings.github.io/tutorial/prml_ch1/">

  
  
  
  
    
    
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content="Zuhui Wang&#39;s Homepage">
  <meta property="og:url" content="https://wzhings.github.io/tutorial/prml_ch1/">
  <meta property="og:title" content="Equation derivation procedure for 1.90 | Zuhui Wang&#39;s Homepage">
  <meta property="og:description" content="Section 1.5.5 in Pattern Recognition and Machine Learning (PRML) In this note, I will show the derivation procedure of the equation of 1.90 step by step. Before we start, I want to claim that the version of the textbook are 2006 version. The Eq. 1.90 is list on Page 47.
From Page 46 we know, the expected loss can be written as
\[\small \mathbb{E}[L] = \iint\{y(\mathbf{x}) - t\}^2 p(\mathbf{x}, t)\mathrm{d}\mathbf{x}\mathrm{d}t \]"><meta property="og:image" content="https://wzhings.github.io/img/icon-192.png">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2018-09-09T00:00:00-05:00">
  
  <meta property="article:modified_time" content="2019-05-10T04:42:37-05:00">
  

  

  

  <title>Equation derivation procedure for 1.90 | Zuhui Wang&#39;s Homepage</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Zuhui Wang&#39;s Homepage</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#news">
            
            <span>News</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#publications">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/tutorial/">
            
            <span>Tutorials</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        

      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>



<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      




<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
  <input name="q" type="search" class="form-control" id="search-query" placeholder="Search..." autocomplete="off">
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial/">Overview</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/tutorial/prml_ch1/">PRML</a>
    <ul class="nav docs-sidenav">
      
      <li class="active">
        <a href="/tutorial/prml_ch1/">#1-Introduction</a>
      </li>
      
    </ul>
    

  </div>
  
  
</nav>

    </div>

    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article" itemscope itemtype="http://schema.org/Article">

        <div class="docs-article-container">
          <h1 itemprop="name">Equation derivation procedure for 1.90</h1>

          <div class="article-style" itemprop="articleBody">
            

<!--
inline \\(a^2 + b^2 = c\\)
block: \\[ \\]
-->

<h3 id="section-1-5-5-in-pattern-recognition-and-machine-learning-prml">Section 1.5.5 in Pattern Recognition and Machine Learning (PRML)</h3>

<p>In this note, I will show the derivation procedure of the equation of 1.90 step by step. Before we start, I want to claim that the version of the textbook are 2006 version. The Eq. 1.90 is list on Page 47.</p>

<p>From Page 46 we know, the expected loss can be written as</p>

<p>\[\small
\mathbb{E}[L] = \iint\{y(\mathbf{x}) - t\}^2 p(\mathbf{x}, t)\mathrm{d}\mathbf{x}\mathrm{d}t
\]</p>

<p>And we know</p>

<p>\[\small
\{y(\mathbf{x}) - t\}^2 = \{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}] + \mathbb{E}[t|\mathbf{x}] - t\}^2 = \{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\}^2 + 2\{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\}\{\mathbb{E}[t|\mathbf{x}] - t\} + \{\mathbb{E}[t|\mathbf{x}] - t\}^2
\]
In the above equation,</p>

<ul>
<li><p>for the first term \(\small \{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\}^2\), we put it back to the expected loss equation and get
\[\small
\iint \{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\}^2 p(\mathbf{x}, t)\mathrm{d}\mathbf{x}\mathrm{d}t = \int \{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\}^2 p(\mathbf{x})\mathrm{d}\mathbf{x}
\]
Because we know the marginal probability is \(\int p(\mathbf{x}, t)\mathrm{d}t = p(\mathbf x)\), and \(\small \mathbb{E}[t|\mathbf{x}] \) is a <em>constant</em> when \(\mathbf x\) is given.</p></li>

<li><p>for the middle term, \(\small 2\{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\}\{\mathbb{E}[t|\mathbf{x}] - t\}\), we can also put it back to the expected loss equaiton. Here we omit the constant number &ndash; $\small 2$ and get
$$ \small
\iint \{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\}\{\mathbb{E}[t|\mathbf{x}] - t\} p(\mathbf{x}, t)\mathrm{d}\mathbf{x}\mathrm{d}t = \iint \big( \{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\} \mathbb{E}[t|\mathbf{x}] - \{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\}t\big) p(\mathbf{x}, t)\mathrm{d}\mathbf{x}\mathrm{d}t $$
$$ \small
= \iint \big( \{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\} \mathbb{E}[t|\mathbf{x}] \big)p(\mathbf{x}, t)\mathrm{d}\mathbf{x}\mathrm{d}t - \iint \big(\{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\}t \big)p(\mathbf{x}, t)\mathrm{d}\mathbf{x}\mathrm{d}t
$$
In the first term of the above equation, we know $\small \mathbb{E}[t|\mathbf{x}]$ is a constant. Then, the <strong><em>first term</em></strong> can be written as:
$$\small
\iint \big( \{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\} \mathbb{E}[t|\mathbf{x}] \big)p(\mathbf{x}, t)\mathrm{d}\mathbf{x}\mathrm{d}t = \int \big(\{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\})\mathbb{E}[t|\mathbf{x}] \}p(\mathbf x) \mathrm d\mathbf x<br />
$$
The <strong><em>second term</em></strong> in the above equaiton can be written as (with joing probability definition $\small p(\mathbf x, t)$):
$$ \small
\iint \big(\{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\}t \big)p(\mathbf{x}, t)\mathrm{d}\mathbf{x}\mathrm{d}t = \iint \{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\}t p(t|\mathbf x)p(\mathbf x)\mathrm{d}\mathbf{x}\mathrm{d}t
$$
We also know the defintion of $\small \mathbb E[t|\mathbf x] = \int t p(t|\mathbf x) dt$, then the above equation can be written as:
$$\small
\iint \big(\{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\}t \big)p(\mathbf{x}, t)\mathrm{d}\mathbf{x}\mathrm{d}t= \iint \big(\{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\}\big)t p(t|\mathbf x)p(\mathbf x)\mathrm{d}\mathbf{x}\mathrm{d}t = \int \big(\{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\})\mathbb{E}[t|\mathbf{x}]p(\mathbf x) \mathrm d\mathbf x
$$
Then, we know the <strong><em>first term</em></strong> and <strong><em>second term</em></strong> are idetical. Therefore, the middle term of the original euqation is just $\small 0$.</p></li>

<li><p>for the last term, $\small \{\mathbb{E}[t|\mathbf{x}] - t\}^2$ can be insert back to the expected loss euqation and get
$$\small
\iint \{\mathbb{E}[t|\mathbf{x}] - t\}^2p(\mathbf{x}, t)\mathrm{d}\mathbf{x}\mathrm{d}t = \iint \{t - \mathbb{E}[t|\mathbf{x}]\}^2 p(t|\mathbf x)p(\mathbf x)\mathrm dt \mathrm d\mathbf x
$$
Here we need to use another time of <em>Expectation</em> definition:
$$\small
\int \{\mathbb{E}[t|\mathbf{x}] - t\}^2p(t|\mathbf x)\mathrm dt = \mathbb E[\{t - \mathbb{E}[t|\mathbf{x}]\}^2|\mathbf x] = \mathrm{var}[t|\mathbf x]
$$
Then, the last term can be written as following:
$$\small
\iint \{\mathbb{E}[t|\mathbf{x}] - t\}^2p(\mathbf{x}, t)\mathrm{d}\mathbf{x}\mathrm{d}t = \iint \{t - \mathbb{E}[t|\mathbf{x}]\}^2 p(t|\mathbf x)p(\mathbf x)\mathrm dt \mathrm d\mathbf x = \int \mathrm{var}[t|\mathbf x] p(\mathbf x) \mathrm d\mathbf x
$$</p></li>
</ul>

<p>Therefore, to get the expected loss equaiton of $1.90$, we can have
$$\small
\mathbb{E}[L] = \int \{y(\mathbf{x}) - \mathbb{E}[t|\mathbf{x}]\}^2 p(\mathbf{x})\mathrm{d}\mathbf{x} +  \int \mathrm{var}[t|\mathbf x] p(\mathbf x) \mathrm d\mathbf x
$$</p>

<p>BTW, for the 2006 version E-book, the last term of Eq.$1.90$ has a typo. It has been fixed at page 7 in the <a href="https://www.microsoft.com/en-us/research/wp-content/uploads/2016/05/prml-errata-1st-20110921.pdf" target="_blank">PRML Errata File</a>.</p>

<p>-[<strong>END</strong>]-</p>

          </div>

          


        </div>

        <div class="body-footer">
          Last updated on Fri, May 10, 2019
        </div>

      </article>

      <footer class="site-footer">
  

  <p class="powered-by">
    &copy;2019 Zuhui Wang &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
  </p>
</footer>


    </main>
  </div>
</div>

    

    
    
    
    <script src="/js/mathjax-config.js"></script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.d813ae958640746e240f434cafc95afb.js"></script>

  </body>
</html>


